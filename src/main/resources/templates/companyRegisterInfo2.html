<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <script id="allmobilize" charset="utf-8" th:src="@{static/js/allmobilize.min.js}"></script>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <link rel="alternate" media="handheld"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>无限创想人才招聘平台</title>
    <script type="text/javascript">
        var ctx = "h";
    </script>
    <link rel="shortcut icon" th:href="@{static/img/html.ico}" type="image/x-icon"/>
    <link rel="stylesheet" type="text/css" th:href="@{static/css/style.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{static/css/external.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{static/css/popup.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{static/css/index.css}"/>
    <script type="text/javascript" th:src="@{static/js/jquery.1.10.1.min.js}"></script>
    <script type="text/javascript" th:src="@{static/js/jquery.lib.min.js}"></script>
    <script type="text/javascript" th:src="@{static/js/ajaxfileupload.js}"></script>
    <script type="text/javascript" th:src="@{static/js/additional-methods.js}"></script>
    <script type="text/javascript" th:src="@{static/js/jquery.lib.min.js}"></script>
    <script type="text/javascript" th:src="@{static/js/excanvas.js}"></script>
    <script type="text/javascript">
        var youdao_conv_id = 271546;
    </script>
    <script type="text/javascript" th:src="@{static/js/conv.js}"></script>
    <script type="text/javascript" th:src="@{static/js/jquery.1.10.1.min.js}"></script>
    <script type="text/javascript" th:src="@{static/js/jquery.lib.min.js}"></script>
    <script type="text/javascript" th:src="@{static/js/core.min.js}"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/sweetalert/1.1.2/sweetalert.min.css">
    <script type="text/javascript" src="https://cdn.bootcss.com/sweetalert/1.1.2/sweetalert.min.js"></script>
</head>

<body>
<main>
    <div class="login_box_btm"></div>
    <div id="overlay"></div>
    <ul id="scene">
        <li class="layer" data-depth="0.1">
            <div class="layer1"></div>
        </li>
        <li class="layer" data-depth="0.2">
            <div class="layer2"></div>
        </li>
    </ul>
    <div class="register_wrapper">
        <div class="login_header">
            <a href="home"><img th:src="@{static/img/logo_white.png}" width="285" height="62" alt="无限创想"/></a>
            <div id="cloud_s"><img th:src="@{static/img/cloud_s.png}" width="81" height="52" alt="cloud"/></div>
            <div id="cloud_m"><img th:src="@{static/img/cloud_m.png}" width="136" height="95" alt="cloud"/></div>
        </div>
        <div id="body1" style="width: 640px;">
            <div id="container">
                <div class="clearfix">
                    <div class="content_l">
                        <h1 style="color:#f5a140;"><img th:src="@{static/img/register_ico.png}"
                                                        style="width:40px; padding-right:20px;">企业信息</h1>
                        <form id="subForm">
                            <input type="hidden" value="" name="id" id="orderId"/>
                            <div class="s_form">
                                <p>欢迎你！完善下方的企业信息，无限创想帮你找好员工！</p>
                                <p style="font-size:20px;">
                                    <font style="font-weight: bold;">公司性质：（必选）</font>
                                <ul class="sex_radio clearfix">
                                    <li>民营
                                        <input type="radio" value="民营" name="CompanyNature"/>
                                    </li>
                                    <li>国企
                                        <input type="radio" value="国企" name="CompanyNature"/>
                                    </li>
                                    <li>外资
                                        <input type="radio" value="外资" name="CompanyNature"/>
                                    </li>
                                    <li>合资
                                        <input type="radio" value="合资" name="CompanyNature"/>
                                    </li>
                                </ul>
                                </p>
                                <p style="font-size:20px;">
                                    <font style="font-weight: bold;">公司类型：（必填）</font>
                                    <input type="text" style="width:615px;" id="subCompanyType" name="CompanyType"
                                           placeholder="请输入公司类型" value=""/>
                                </p>
                                <p style="font-size:20px;">
                                    <font style="font-weight: bold;">企业文化：（必填）</font>
                                    <input type="text" style="width:615px;" id="subCompanyCulture" name="CompanyCulture"
                                           placeholder="请输入企业文化" value=""/>
                                </p>
                                <p style="font-size:20px;">
                                    <font style="font-weight: bold;">公司信息：（必填）</font>
                                    <textarea style="width:615px;height: 120px;" id="subCompanyInfo" name="CompanyInfo"
                                              placeholder="请输入公司具体信息" value=""></textarea>
                                </p>
                                <a href="javascript:history.go(-1);" class="btn_cancel">上 一 步</a>
                                <a class="btn_big" id="subSubmit" title="提 交" onclick="javascript:return formCheck()" style="float: right;margin-left:0;margin-right: 45px;">提 交</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script th:src="@{static/js/mouse-click.js}"></script>
    <canvas width="100%" height="100%"
            style="position: fixed; left: 0px; top: 0px; z-index: 2147483647; pointer-events: none;"></canvas>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
    <script th:src="@{static/js/jquery.parallax.min.js}"></script>
    <script>
        $(document).ready(function () {
            $('#scene').parallax();
        });
    </script>

    <script type="text/javascript">
        $(document).ready(function (e) {
            $('.sex_radio li input').click(function (e) {
                $(this).parent('li').addClass('current').append('<em></em>').siblings().removeClass('current').find('em').remove();
            });
        });

        function formCheck() {
            var CompanyNature = document.getElementsByName('CompanyNature');
            var CompanyType = document.getElementById('subCompanyType').value;
            var CompanyCulture = document.getElementById('subCompanyCulture').value;
            var CompanyInfo = document.getElementById('subCompanyInfo').value;
            var flag = false;
            for (var i = 0; i < CompanyNature.length; i++) {
                if (CompanyNature[i].checked) {
                    flag = true;
                }
            }
            if(flag === false){
                swal({
                    title: "未选择公司性质",
                    text: "请选择公司性质：民营/国企/外资/合资",
                    type: "error",
                    confirmButtonColor: "#011d56"
                });
                return false;
            }
            if (CompanyType === ""){
                swal({
                    title: "公司类型不能为空",
                    text: "请输入公司类型",
                    type: "error",
                    confirmButtonColor: "#011d56"
                });
                return false;
            }
            if (CompanyType.trim().length === 0){
                swal({
                    title: "公司类型不能全部为空格",
                    text: "请输入正确的公司类型",
                    type: "error",
                    confirmButtonColor: "#011d56"
                });
                return false;
            }
            if (CompanyCulture === ""){
                swal({
                    title: "企业文化不能为空",
                    text: "请输入企业文化",
                    type: "error",
                    confirmButtonColor: "#011d56"
                });
                return false;
            }
            if (CompanyCulture.trim().length === 0){
                swal({
                    title: "企业文化不能全部为空格",
                    text: "请输入正确的企业文化",
                    type: "error",
                    confirmButtonColor: "#011d56"
                });
                return false;
            }
            if (CompanyInfo === ""){
                swal({
                    title: "公司信息不能为空",
                    text: "请输入公司具体信息",
                    type: "error",
                    confirmButtonColor: "#011d56"
                });
                return false;
            }
            if (CompanyInfo.trim().length === 0){
                swal({
                    title: "公司信息不能全部为空格",
                    text: "请输入正确的公司具体信息",
                    type: "error",
                    confirmButtonColor: "#011d56"
                });
                return false;
            }
            return true;
        }
    </script>
    <script type="text/javascript">
        $("#subSubmit").click(function () {
            if(formCheck() === true){
                var CompanyNature = $('input[name="CompanyNature"]:checked').val();
                var CompanyType = $("#subCompanyType").val();
                var CompanyCulture = $("#subCompanyCulture").val();
                var CompanyInfo = $("#subCompanyInfo").val();
                var url = "tocompanyRegisterInfo2";
                var data = {
                    CompanyNature: CompanyNature,
                    CompanyType: CompanyType,
                    CompanyCulture: CompanyCulture,
                    CompanyInfo: CompanyInfo
                }
                $.post(url, data, function (result) {
                    if(result != null && result.code === 200){
                        window.location.href="home";
                    }
                    else {
                        swal({
                            title: "提交失败",
                            text: "请确认输入内容并重试",
                            type: "error",
                            confirmButtonColor: "#011d56"
                        });
                    }
                })
            }
        })
    </script>
</main>
</body>
</html>